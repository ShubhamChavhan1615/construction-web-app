<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>
    <%= title %>
  </title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
</head>

<body class="bg-gray-100">
  <!-- Include Header -->
  
  <%- include('partials/Header', { title: title, user: user || {} }) %>
  
  <main class=" p-1">
      <!-- Include Slider -->
      <%- include('partials/Slider') %>->
      <section class="bg-gray-100 py-12">
        <div class=" px-6">
          <!-- Section Header -->
          <div class="text-center mb-12">
            <h2 class="text-4xl font-bold text-orange-600">📰 Recent News</h2>
            <p class="text-gray-600 mt-2">
              Stay updated with our latest construction insights and updates.
            </p>
          </div>

          <!-- News Grid -->
          <div class="grid md:grid-cols-3 gap-8">
            <% news.forEach(item => { %>
              <div
                class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-transform transform hover:-translate-y-2">
                <img src="<%= item.image %>" alt="<%= item.title %>" class="w-full h-48 object-cover" />
                <div class="p-6">
                  <h3 class="text-2xl font-bold text-gray-800"><%= item.title %></h3>
                  <p class="text-gray-600 mt-2">
                    <%= item.description %>
                  </p>
                  <a href="<%= item.link %>"
                    class="mt-4 inline-block text-orange-600 font-semibold hover:text-orange-700 transition">Read More
                    →</a>
                </div>
              </div>
            <% }) %>
          </div>

          <!-- View All Button -->
          <div class="text-center mt-12">
            <a href="/news"
              class="bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-orange-700 transition">View
              All News</a>
          </div>
        </div>
      </section>

      <!-- Projects Section -->
      <section class="bg-white py-16">
        <h2 class="text-4xl font-bold text-center text-orange-600">🚧 Our Projects</h2>
        <p class="text-center text-gray-600 mt-2">
          Explore our latest completed and ongoing construction ventures.
        </p>

        <!-- Project Grid -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto mt-12">
          <% projects.forEach(project => { %>
            <div
              class="bg-gray-50 rounded-2xl overflow-hidden shadow-lg transform transition duration-300 hover:scale-105 hover:shadow-2xl">
              <img src="<%= project.image %>" alt="<%= project.title %>" class="w-full h-56 object-cover" />
              <div class="p-6 bg-white">
                <h3 class="text-2xl font-bold text-gray-800"><%= project.title %></h3>
                <p class="text-gray-600 mt-2"><%= project.status %></p>
                <a href="<%= project.link %>"
                  class="mt-4 inline-block text-orange-600 font-semibold hover:text-orange-700 transition">View Details
                  →</a>
              </div>
            </div>
          <% }) %>
        </div>

        <div class="text-center mt-12">
          <a href="/projects"
            class="bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-orange-700 transition">View
            All Projects</a>
        </div>
      </section>

      <!-- Our Services Section -->
      <section class="bg-orange-50 py-16">
        <h2 class="text-4xl font-bold text-center text-orange-600">🚧 Our Services</h2>
        <p class="text-center text-gray-600 mt-2">
          Delivering excellence in every aspect of construction management.
        </p>

        <!-- Services Grid -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto mt-12">
          <% services.forEach(service => { %>
            <div
              class="bg-white p-8 rounded-2xl shadow-lg text-center group hover:bg-orange-100 transition duration-300">
              <div class="text-6xl mx-auto group-hover:animate-bounce transition">
                <%= service.icon %>
              </div>
              <h3 class="text-2xl font-bold mt-4 text-gray-800">
                <%= service.title %>
              </h3>
              <p class="text-gray-600 mt-2">
                <%= service.description %>
              </p>
              <a href="<%= service.link %>"
                class="mt-4 inline-block text-orange-600 font-semibold hover:text-orange-700 transition">Learn More
                →</a>
            </div>
          <% }) %>
        </div>

        <div class="text-center mt-12">
          <a href="/services"
            class="bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-orange-700 transition">Explore
            All Services</a>
        </div>
      </section>





        <!-- Make an Appointment Section -->
        <section class="bg-orange-500 text-white py-16 ">
          <div class="max-w-6xl mx-auto text-center">
            <h2 class="text-4xl font-bold">Make an Appointment</h2>
            <p class="mt-4 text-lg text-gray-300">
              Schedule a consultation with our expert team for your next project.
            </p>
          </div>

          <div
            class="max-w-6xl mx-auto mt-10 bg-white p-8 rounded-lg shadow-lg grid grid-cols-1 md:grid-cols-2 gap-10 items-center">
            <!-- Image Section -->
            <div class="w-full">
              <img
                src="https://images.pexels.com/photos/15360467/pexels-photo-15360467/free-photo-of-workers-working-on-construction.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load"
                alt="Appointment" class="w-full rounded-lg shadow-md" />
            </div>

            <!-- Form Section -->
            <div class="text-black">
              <h3 class="text-2xl font-bold text-gray-800 mb-6">Book Your Appointment</h3>
              <form id="appointmentForm" class="grid grid-cols-1 gap-6">
                <!-- Name Input -->
                <div>
                  <label for="name" class="block text-sm font-medium text-gray-700">Name</label>
                  <input type="text" id="name" name="name" placeholder="Enter your name"
                    class="mt-2 p-3 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-orange-500" required />
                </div>
            
                <!-- Email Input -->
                <div>
                  <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                  <input type="email" id="email" name="email" placeholder="Enter your email"
                    class="mt-2 p-3 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-orange-500" required />
                </div>
            
                <!-- Phone Number -->
                <div>
                  <label for="contact" class="block text-sm font-medium text-gray-700">Phone Number</label>
                  <input type="text" id="contact" name="contact" placeholder="Enter phone number"
                    class="mt-2 p-3 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-orange-500" required />
                </div>
            
                <!-- Service Selection -->
                <div>
                  <label for="service" class="block text-sm font-medium text-gray-700">Select Service</label>
                  <select id="service" name="service"
                    class="mt-2 p-3 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-orange-500" required>
                    <option value="" disabled selected>Select a Service</option>
                    <option value="Project Management">Project Management</option>
                    <option value="Structural Engineering">Structural Engineering</option>
                    <option value="Geotechnical Analysis">Geotechnical Analysis</option>
                  </select>
                </div>
            
                <!-- Date & Time Selection -->
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label for="date" class="block text-sm font-medium text-gray-700">Select Date</label>
                    <input type="date" id="date" name="date"
                      class="mt-2 p-3 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-orange-500" required />
                  </div>
                  <div>
                    <label for="time" class="block text-sm font-medium text-gray-700">Select Time</label>
                    <input type="time" id="time" name="time"
                      class="mt-2 p-3 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-orange-500" required />
                  </div>
                </div>
            
                <!-- Additional Comments -->
                <div>
                  <label for="comments" class="block text-sm font-medium text-gray-700">Additional Comments</label>
                  <textarea id="comments" name="comments" rows="4" placeholder="Any specific requirements or questions?"
                    class="mt-2 p-3 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-orange-500"></textarea>
                </div>
            
                <!-- Submit Button -->
                <div class="text-center">
                  <button type="submit"
                    class="bg-orange-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-orange-600 transition duration-300">
                    Book Appointment
                  </button>
                </div>
              </form>
            </div>
            
            <script>
            document.getElementById("appointmentForm").addEventListener("submit", async function(event) {
                event.preventDefault();
                const form = event.target
                const formData = {
                    name: document.getElementById("name").value,
                    email: document.getElementById("email").value,
                    contact: document.getElementById("contact").value,
                    service: document.getElementById("service").value,
                    date: document.getElementById("date").value,
                    time: document.getElementById("time").value,
                    comments: document.getElementById("comments").value
                };
            
                const response = await fetch("/api/appointment/appointments", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(formData)
                });
            
                const result = await response.json();
                alert(result.message || result.error);
                form.reset();
            });
            </script>
            
          </div>
        </section>


        <!-- Featured Projects Section -->
        <section class="bg-gray-100 py-16 w-full">
          <h2 class="text-4xl font-bold text-center text-gray-800 mb-8 uppercase">
            🏗️ Work Lifecycle
          </h2>

          <div
            class="card relative mx-auto flex h-[254px] w-full max-w-6xl space-x-2 overflow-hidden rounded-md bg-[#f3f4f6] bg-orange-50 p-2 md:h-[300px] lg:h-[350px]">
            <!-- Project Planning -->
            <div
              class="hover-box group flex h-full w-[33.33%] cursor-pointer items-center justify-center overflow-hidden rounded-sm border border-[#f59e0b] bg-cover bg-center transition-all duration-500 hover:w-[90%] md:w-[25%] lg:w-[20%]"
              style="
        background-image: url('https://media.istockphoto.com/id/1332558192/photo/three-multi-ethnic-construction-workers-chatting.jpg?s=612x612&w=0&k=20&c=m6Sevw_6Xw-5LhpnT1C_P6UitIo04em3lhjfx-BGsKg=');
      ">
              <span
                class="min-w-[14em] -rotate-90 transform rounded-b-md bg-white/90 px-4 text-center font-medium tracking-wider text-[#f98119] uppercase transition-all duration-500 group-hover:rotate-0">Project
                Planning</span> 
            </div>

            <!-- Site Analysis -->
            <div
              class="hover-box group flex h-full w-[33.33%] cursor-pointer items-center justify-center overflow-hidden rounded-sm border border-[#f59e0b] bg-white bg-cover bg-center transition-all duration-500 hover:w-[90%] md:w-[25%] lg:w-[20%]"
              style="
        background-image: url('https://media.istockphoto.com/id/862758024/photo/construction-site.jpg?s=612x612&w=0&k=20&c=gYl455m4B91lwQpIidx9YBCxwLaeLKFR632FRaPqffc=');
      ">
              <span
                class="min-w-[14em] -rotate-90 transform rounded-b-md bg-white/90 px-4 text-center font-medium tracking-wider text-[#f98119] uppercase transition-all duration-500 group-hover:rotate-0">Site
                Analysis</span>
            </div>

            <!-- Safety Measures -->
            <div
              class="hover-box group flex h-full w-[33.33%] cursor-pointer items-center justify-center overflow-hidden rounded-sm border border-[#f59e0b] bg-white bg-cover bg-center transition-all duration-500 hover:w-[90%] md:w-[25%] lg:w-[20%]"
              style="
        background-image: url('https://media.istockphoto.com/id/1165384568/photo/europe-modern-complex-of-residential-buildings.jpg?s=612x612&w=0&k=20&c=iW4NBiMPKEuvaA7h8wIsPHikhS64eR-5EVPfjQ9GPOA=');
      ">
              <span
                class="min-w-[14em] -rotate-90 transform rounded-b-md bg-white/90 px-4 text-center font-medium tracking-wider text-[#f98119] uppercase transition-all duration-500 group-hover:rotate-0">Safety
                Measures</span>
            </div>

            <!-- Quality Assurance -->
            <div
              class="hover-box group flex h-full w-[33.33%] cursor-pointer items-center justify-center overflow-hidden rounded-sm border border-[#f59e0b] bg-white bg-cover bg-center transition-all duration-500 hover:w-[90%] md:w-[25%] lg:w-[20%]"
              style="
        background-image: url('https://media.istockphoto.com/id/1453963806/video/time-lapse-low-angle-of-tall-corporate-buildings-skyscraper-with-reflection-of-clouds-among.jpg?s=640x640&k=20&c=wCAPTGEuVUSQbX1YehBMysxxLkdT8S-GXwaYuXDlV5M=');
      ">
              <span
                class="min-w-[14em] -rotate-90 transform rounded-b-md bg-white/90 px-4 text-center font-medium tracking-wider text-[#f98119] uppercase transition-all duration-500 group-hover:rotate-0">Quality
                Assurance</span>
            </div>

            <!-- Risk Assessment -->
            <div
              class="hover-box group flex h-full w-[33.33%] cursor-pointer items-center justify-center overflow-hidden rounded-sm border border-[#f59e0b] bg-white bg-cover bg-center transition-all duration-500 hover:w-[90%] md:w-[25%] lg:w-[20%]"
              style="
        background-image: url('https://media.istockphoto.com/id/2117759132/photo/four-construction-workers-having-meeting.jpg?s=612x612&w=0&k=20&c=qLV__HuqWfnV9RWbXgzQDrYxsmQXbDRm4RO-RP9vEIs=');
      ">
              <span
                class="min-w-[14em] -rotate-90 transform rounded-b-md bg-white/90 px-4 text-center font-medium tracking-wider text-[#f98119] uppercase transition-all duration-500 group-hover:rotate-0">Risk
                Assessment</span>
            </div>
          </div>
        </section>

        <!-- Include Footer -->
        <%- include('partials/Footer') %>

          <!-- Swiper JS -->
          <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

          <!-- Swiper Slider Configuration -->
          <script>
            document.addEventListener("DOMContentLoaded", function () {
              var swiper = new Swiper(".swiper", {
                loop: true,
                autoplay: {
                  delay: 3000,
                  disableOnInteraction: false,
                },
                pagination: {
                  el: ".swiper-pagination",
                  clickable: true,
                },
                slidesPerView: 1,
                spaceBetween: 30,
                breakpoints: {
                  768: {
                    slidesPerView: 2,
                  },
                  1024: {
                    slidesPerView: 3,
                  },
                },
              });
            });
          </script>
</body>

</html>